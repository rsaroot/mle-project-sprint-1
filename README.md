# mle-project-sprint1-v001
Это репозиторий-шаблон для проекта Яндекс Практикума спринта №1.
Общая цель проекта: создать базовое решение для предсказания стоимости квартир сервиса "Своя Избушка"
Проект разделен на 3 этапа:
1. Сбор данных
2. Очистка данных
3. Обучение модели

Весь код, обеспечивающий решение 1 и 2 этапов, сохраните в папке этого репозитория под названием `part1_airlfow` <br/>
Весь код 3 этапа – `part2_dvc` <br/>

Описание решения:

db host: `rc1b-uh7kdmcx67eomesf.mdb.yandexcloud.net` - тут лежат результаты airflow

S3 bucket: `s3-student-mle-20250617-af41a9cf8f-freetrack` - тут лежат результаты dvc

Папка `part1_airlfow`:
- `/dags`: содержит 2 пайплайна airflow:
    - `churn.py` собирает единый датасет в таблицу БД `flats_with_b_features`
    - `clean_churn.py` собирает очищенный датасет на базе таблицы с прошлого шага в таблицу БД `flats_with_b_features_clean`
- `/plugins/steps`: содержит описание функций для пайплайнов в `/dags`
    - `churn.py` - функции для пайплайна `churn.py`
    - `clean_churn.py` - функции для пайплайна `clean_churn.py`
    - `messages.py` - функции для отправки уведомлений в тг бот
- `/notebooks/template_notebook.ipynb`: анализ и обработка датасета, над которым работаем

Папка `part2_dvc`:
- `dvc.yaml`: описание шагов dvc пайплайна
- `params.yaml`: гиперпараметры
- `/scripts`: содержит описание шагов dvc пайплайна
    - `data.py` - получение данных (результат - `\data\initial_data.scv`)
    - `fit.py` - получение обученой модели (результат - `\models\fitted_model.pkl`)
    - `evaluate.py` - кросс-валидация полученной модели и сохранение результатов (`\сv_results\cv_res.json`)

**Итоги**

- В качестве baseline модели использовался `CatBoostRegressor`

Результаты оценки модели:
- **R²: 0.716** — модель объясняет 71.6% вариации цен
- **MAE: 1,839,029 руб.** — средняя ошибка предсказания ~1.84 млн руб., около 18% для средней цены ~20 млн руб
- **RMSE: 2,379,643 руб.** — среднеквадратическая ошибка ~2.38 млн руб., выше MAE из-за больших ошибок
- **fit_time: 36.3 сек.** — время обучения на фолде, приемлемо
- **score_time: 0.38 сек.** — быстрые предсказания

Хороший старт для baseline, но есть потенциал для улучшения